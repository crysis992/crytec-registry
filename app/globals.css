@import "tailwindcss";

@theme inline {
          --color-background: var(--background);
          --color-foreground: var(--foreground);
          --font-sans: var(--font-geist-sans);
          --font-mono: var(--font-geist-mono);
}

:root {
          --background: oklch(1 0 0);
          --foreground: oklch(0.145 0 0);
          --card: oklch(1 0 0);
          --card-foreground: oklch(0.145 0 0);
          --popover: oklch(1 0 0);
          --popover-foreground: oklch(0.145 0 0);
          --primary: oklch(0.205 0 0);
          --primary-foreground: oklch(0.985 0 0);
          --secondary: oklch(0.97 0 0);
          --secondary-foreground: oklch(0.205 0 0);
          --muted: oklch(0.97 0 0);
          --muted-foreground: oklch(0.556 0 0);
          --accent: oklch(0.97 0 0);
          --accent-foreground: oklch(0.205 0 0);
          --destructive: oklch(0.577 0.245 27.325);
          --destructive-foreground: oklch(0.577 0.245 27.325);
          --border: oklch(0.922 0 0);
          --input: oklch(0.922 0 0);
          --ring: oklch(0.708 0 0);
          --chart-1: oklch(0.646 0.222 41.116);
          --chart-2: oklch(0.6 0.118 184.704);
          --chart-3: oklch(0.398 0.07 227.392);
          --chart-4: oklch(0.828 0.189 84.429);
          --chart-5: oklch(0.769 0.188 70.08);
          --radius: 0.625rem;
          --sidebar: oklch(0.985 0 0);
          --sidebar-foreground: oklch(0.145 0 0);
          --sidebar-primary: oklch(0.205 0 0);
          --sidebar-primary-foreground: oklch(0.985 0 0);
          --sidebar-accent: oklch(0.97 0 0);
          --sidebar-accent-foreground: oklch(0.205 0 0);
          --sidebar-border: oklch(0.922 0 0);
          --sidebar-ring: oklch(0.708 0 0);
}

.dark {
          --background: oklch(0.145 0 0);
          --foreground: oklch(0.985 0 0);
          --card: oklch(0.145 0 0);
          --card-foreground: oklch(0.985 0 0);
          --popover: oklch(0.145 0 0);
          --popover-foreground: oklch(0.985 0 0);
          --primary: oklch(0.985 0 0);
          --primary-foreground: oklch(0.205 0 0);
          --secondary: oklch(0.269 0 0);
          --secondary-foreground: oklch(0.985 0 0);
          --muted: oklch(0.269 0 0);
          --muted-foreground: oklch(0.708 0 0);
          --accent: oklch(0.269 0 0);
          --accent-foreground: oklch(0.985 0 0);
          --destructive: oklch(0.396 0.141 25.723);
          --destructive-foreground: oklch(0.637 0.237 25.331);
          --border: oklch(0.269 0 0);
          --input: oklch(0.269 0 0);
          --ring: oklch(0.439 0 0);
          --chart-1: oklch(0.488 0.243 264.376);
          --chart-2: oklch(0.696 0.17 162.48);
          --chart-3: oklch(0.769 0.188 70.08);
          --chart-4: oklch(0.627 0.265 303.9);
          --chart-5: oklch(0.645 0.246 16.439);
          --sidebar: oklch(0.205 0 0);
          --sidebar-foreground: oklch(0.985 0 0);
          --sidebar-primary: oklch(0.488 0.243 264.376);
          --sidebar-primary-foreground: oklch(0.985 0 0);
          --sidebar-accent: oklch(0.269 0 0);
          --sidebar-accent-foreground: oklch(0.985 0 0);
          --sidebar-border: oklch(0.269 0 0);
          --sidebar-ring: oklch(0.439 0 0);
}

@layer base {
          * {
                    @apply border-[var(--border)];
          }
          body {
                    @apply bg-[var(--background)] text-[var(--foreground)];
          }
}

/* Codeblock: Line Numbers */
.codeblock-line-numbers .line[data-line]::before {
          content: attr(data-line);
          display: inline-block;
          width: 2rem;
          margin-right: 1rem;
          text-align: right;
          color: var(--muted-foreground);
          opacity: 0.5;
          user-select: none;
}

/* Codeblock: Line Highlighting */
.line.highlighted {
          display: inline-block;
          width: calc(100% + 2rem);
          margin-left: -1rem;
          margin-right: -1rem;
          padding-left: 0.75rem;
          padding-right: 1rem;
          background-color: oklch(0.5 0.1 250 / 0.1);
          border-left: 3px solid oklch(0.6 0.15 250);
}

.dark .line.highlighted {
          background-color: oklch(0.6 0.15 250 / 0.15);
          border-left-color: oklch(0.7 0.2 250);
}

/* Shiki dual theme support - dark mode switches to --shiki-dark variables */
.dark .shiki,
.dark .shiki span {
          color: var(--shiki-dark);
          background-color: var(--shiki-dark-bg);
}

.dark .shiki {
          background-color: var(--shiki-dark-bg);
}
